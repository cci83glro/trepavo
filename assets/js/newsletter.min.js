jQuery(document).ready((function(e){e("#subscribe-to-newsletter").click((function(){e(".error").fadeOut("slow"),e(".preloader").fadeIn("slow");var r=!1,t=e("input#newsletter-email").val();if(""==t||" "==t?(e("#err-email").fadeIn("slow"),r=!0):/^([a-z0-9_.-]+)@([da-z.-]+).([a-z.]{2,6})$/.test(t)||(e("#err-emailvld").fadeIn("slow"),r=!0),1==r)return e("#err-form").slideDown("slow"),!1;var o=e("#newsletter-form").serialize();return e.ajax({type:"POST",url:e("#newsletter-form").attr("action"),data:o,timeout:6e3,error:function(r,t){"timeout"==t?e("#err-timedout").slideDown("slow"):(e("#err-state").slideDown("slow"),e("#err-state").html("An error occurred: "+t))},success:function(r){e("#newsletter-form").slideUp("slow"),e("#newsletter-form-success-message").slideDown("slow")}}),e(".preloader").fadeOut("slow"),!1}))}));